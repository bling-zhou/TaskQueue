# TaskQueue
可以自己实现延迟任务的持久化,这个是最主要的一个特点,这个可以确保延迟任务不会丢失  
订单的管理延迟取消可以通过这个来实现，就算服务器宕机也可以被其他服务器接管,如果采
用了redis集群的方案可以自己实现高效的持久化方案缺点是加重了cpu的负担,同时也会不  
断修正时间，触发时间是相对时间而不是绝对时间
对于是比timer更加的优秀，可能比不上schedule,会持续进行优化
考虑的方面可能不会很全面，应该有些可以参考的部分

![数据结构的示意图](https://github.com/bling-zhou/TaskQueue/blob/master/image/taskQueueStruct.png)


  
一个比较轻型的本地延迟队列的实现  
这个class可以解决的目标有:  
1.可以获得任意任务的剩余时间  
2.可以选择两种持久化的任务方式  
3.有着较强的可扩展性  
4.定时任务的维护是采用一个线程管理多个任务的方式,不管有多少个定时任务可以是由一个线程来进行管理维护,系统的开销会比较小  
5.设计的初衷是为了解决订单的超时取消任务  

项目的目录结构:  
1.main里面是设计的代码  
2.test里面有着相关的测试代码，主要是在本地测试,这个可以自己组装到spring里面  
3.image,相关的图片文件.  
 
class的设计  
![设计图片可能已经更改](https://github.com/bling-zhou/TaskQueue/blob/master/image/taskClass.png)  
